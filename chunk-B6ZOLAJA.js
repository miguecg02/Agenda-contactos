import{a as O,f as T}from"./chunk-37FELDB3.js";import{C as L,E as P,W as V,b,c as n,d as E,e as y,f as F,h as s,j as x,k as _,l as R,o as k,p as D,q as I,r as B,t as A,u as q,v as G}from"./chunk-QO4XLJ5Y.js";import{Cb as M,Da as C,Db as S,F as p,Hb as h,Kb as N,Ta as r,W as l,_a as v,ca as f,pa as g,qa as w,ua as u,va as t,wa as e,xa as m}from"./chunk-7WGGR3LD.js";var Y=()=>["/login"];function z(d,i){d&1&&(t(0,"mat-error"),r(1," Las contrase\xF1as no coinciden "),e())}var j=class d{authService=p(N);snackBarService=p(V);router=p(M);async register(){let i={firstName:this.form.value.firstName??"",lastName:this.form.value.lastName??"",password:this.form.value.password??"",email:this.form.value.email??""},a=await this.authService.register(i);a.success?(this.snackBarService.openSnackbarSuccess(a.message),this.router.navigate(["/login"])):this.snackBarService.openSnackbarError(a.message)}form=new F({firstName:new s("",n.required),lastName:new s("",n.required),password:new s("",n.required),password2:new s("",n.required),email:new s("",[n.required,n.email])},{validators:this.passwordMatchValidator});passwordMatchValidator(i){let a=i.value.password,o=i.value.password2;return a&&o&&a!==o?(i.get("password2")?.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}static \u0275fac=function(a){return new(a||d)};static \u0275cmp=f({type:d,selectors:[["app-register"]],decls:33,vars:5,consts:[["id","container"],[1,"flex-column",3,"ngSubmit","formGroup"],["matInput","","autocomplete","given-name","type","text","name","firstName","id","firstName","formControlName","firstName"],["matInput","","autocomplete","family-name","type","text","name","lastName","id","lastName","formControlName","lastName"],["matInput","","autocomplete","email","type","email","name","email","id","email","formControlName","email"],["matInput","","autocomplete","new-password","type","password","name","password","id","password","formControlName","password"],["matInput","","type","password","name","password2","id","password2","formControlName","password2"],["mat-button","",3,"disabled"],[3,"routerLink"]],template:function(a,o){if(a&1&&(t(0,"div",0)(1,"mat-card")(2,"h1"),r(3,"Agenda de contactos"),e(),t(4,"form",1),C("ngSubmit",function(){return o.register()}),t(5,"mat-form-field")(6,"mat-label"),r(7,"Nombre"),e(),m(8,"input",2),e(),t(9,"mat-form-field")(10,"mat-label"),r(11,"Apellido"),e(),m(12,"input",3),e(),t(13,"mat-form-field")(14,"mat-label"),r(15,"Correo electr\xF3nico"),e(),m(16,"input",4),e(),t(17,"mat-form-field")(18,"mat-label"),r(19,"Contrase\xF1a"),e(),m(20,"input",5),e(),t(21,"mat-form-field")(22,"mat-label"),r(23,"Reescrib\xED la contrase\xF1a"),e(),m(24,"input",6),g(25,z,2,0,"mat-error"),e(),t(26,"button",7),r(27,"Registrarse"),e(),t(28,"p"),r(29,"\xBFYa ten\xE9s cuenta? "),t(30,"a",8),r(31,"Inici\xE1 sesi\xF3n"),e(),r(32,"."),e()()()()),a&2){let c;l(4),u("formGroup",o.form),l(21),w((c=o.form.get("password2"))!=null&&c.hasError("passwordMismatch")?25:-1),l(),u("disabled",o.form.invalid),l(4),u("routerLink",v(4,Y))}},dependencies:[k,x,b,E,y,_,R,G,q,B,D,I,A,P,L,h,S,T,O],styles:["#container[_ngcontent-%COMP%]{height:100%;display:grid;background-color:var(--mat-sys-background)}#container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:auto;padding:40px;text-align:center;display:block}@media (width < 720px){mat-card[_ngcontent-%COMP%]{height:100%;width:100%}}"]})};export{j as RegisterComponent};
