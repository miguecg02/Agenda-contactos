import{a as de}from"./chunk-QR6RJRUF.js";import{b as ie}from"./chunk-QKYI5N5N.js";import{a as T,b as E,c as oe,d as ae,e as ce}from"./chunk-NJT4JHNX.js";import{c as ne,f as se}from"./chunk-IKPN3UYD.js";import{A as te,C as re,E as S,M as P}from"./chunk-QO4XLJ5Y.js";import{$a as Z,Ab as $,Ba as w,C,Cb as K,Da as l,Db as Y,Eb as J,F as c,Fa as m,Ga as R,H as g,Ha as M,Hb as D,I as b,Ia as A,Ka as I,Kb as X,L as z,La as O,O as B,Ob as ee,R as L,Ra as v,Sa as H,Ta as a,Ua as x,W as d,_a as k,ca as p,da as y,ea as N,ib as U,kc as _,pa as u,qa as h,sa as G,ta as Q,ua as f,va as o,wa as i,xa as W,zb as q}from"./chunk-7WGGR3LD.js";var _e=["*",[["mat-toolbar-row"]]],ge=["*","mat-toolbar-row"],be=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=N({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),le=(()=>{class e{_elementRef=c(L);_platform=c(ee);_document=c(z);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,s,fe){if(r&1&&A(fe,be,5),r&2){let j;I(j=O())&&(s._toolbarRows=j)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,s){r&2&&(H(s.color?"mat-"+s.color:""),v("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:ge,decls:2,vars:0,template:function(r,s){r&1&&(R(_e),M(0),M(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var me=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=y({type:e});static \u0275inj=C({imports:[_,_]})}return e})();var F=class e{titleService=c(oe);toggleSidebar=U();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-header"]],outputs:{toggleSidebar:"toggleSidebar"},decls:6,vars:1,consts:[["mat-icon-button","","aria-label","Toggle menu",3,"click"]],template:function(t,r){t&1&&(o(0,"mat-toolbar")(1,"button",0),l("click",function(){return r.toggleSidebar.emit()}),o(2,"mat-icon"),a(3,"menu"),i()(),o(4,"span"),a(5),i()()),t&2&&(d(5),x(r.titleService.title()))},dependencies:[S,te,D,me,le,E,T],encapsulation:2})};var pe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=y({type:e});static \u0275inj=C({imports:[_,P,P,_]})}return e})();var ye=()=>["/contacts"],he=()=>({exact:!0}),Me=e=>["/groups",e],ke=(e,n)=>n.id;function De(e,n){if(e&1){let t=w();o(0,"a",8),l("click",function(){g(t);let s=m();return b(s.expanded.set(!0))}),o(1,"mat-icon"),a(2,"label"),i(),o(3,"span"),a(4,"Grupos"),i()()}if(e&2){let t=m();f("matTooltipDisabled",t.expanded())}}function Se(e,n){if(e&1&&(o(0,"a",10)(1,"mat-icon"),a(2,"label"),i(),o(3,"span"),a(4),i()()),e&2){let t=n.$implicit;f("routerLink",Z(3,Me,t.id))("routerLinkActiveOptions",k(5,he)),d(4),x(t.name)}}function Te(e,n){if(e&1){let t=w();o(0,"p"),a(1,"Grupos"),i(),o(2,"button",9),l("click",function(){g(t);let s=m();return b(s.openCreateGroupModal())}),o(3,"mat-icon"),a(4,"add"),i(),o(5,"span"),a(6,"Nuevo"),i()(),G(7,Se,5,6,"a",10,ke)}if(e&2){let t=m();d(7),Q(t.groupsService.groups.value())}}function Ee(e,n){if(e&1){let t=w();o(0,"button",11),l("click",function(){g(t);let s=m();return b(s.export())}),o(1,"mat-icon"),a(2,"save"),i(),o(3,"span"),a(4,"Exportar"),i()()}if(e&2){let t=m();f("matTooltipDisabled",t.expanded())}}function Fe(e,n){if(e&1&&(o(0,"p"),a(1),i()),e&2){let t,r=m();d(),x((t=r.authService.user())==null?null:t.email)}}var ue=class e{authService=c(X);expanded=B(!1);groupsService=c(ae);dialog=c(se);contactsService=c(ne);router=c(K);activatedRoute=c(q);ngOnInit(){this.checkIfInContactDetails(this.router.url),this.router.events.subscribe(n=>{n.type===1&&this.checkIfInContactDetails(n.urlAfterRedirects)})}openCreateGroupModal(){this.dialog.open(de)}async export(){if(this.router.url==="/contacts")this.contactsService.export();else{let n=this.router.url.split("/"),t=n[n.length-1];parseInt(t)&&this.groupsService.export(parseInt(t))}}checkIfInContactDetails(n){let t=n.split("/");t[1]==="contacts"&&t.length>2?this.showExport.set(!1):this.showExport.set(!0)}showExport=B(!0);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-logged"]],decls:21,vars:12,consts:[[3,"toggleSidebar"],["id","extendable-container"],["id","extendable",1,"flex-column"],[1,"flex-column"],["mat-button","","routerLinkActive","active","matTooltip","Contactos",3,"routerLink","routerLinkActiveOptions","matTooltipDisabled"],["mat-button","","matTooltip","Grupos",3,"matTooltipDisabled"],["mat-button","","matTooltip","Exportar",3,"matTooltipDisabled"],["mat-button","","matTooltip","Cerrar sesi\xF3n",3,"click","matTooltipDisabled"],["mat-button","","matTooltip","Grupos",3,"click","matTooltipDisabled"],["mat-button","",3,"click"],["mat-button","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["mat-button","","matTooltip","Exportar",3,"click","matTooltipDisabled"]],template:function(t,r){t&1&&(o(0,"app-header",0),l("toggleSidebar",function(){return r.expanded.set(!r.expanded())}),i(),o(1,"div",1)(2,"div",2)(3,"nav",3)(4,"a",4)(5,"mat-icon"),a(6,"person"),i(),o(7,"span"),a(8,"Contactos"),i()(),u(9,De,5,1,"a",5),u(10,Te,9,0),i(),o(11,"div",3),u(12,Ee,5,1,"button",6),u(13,Fe,2,1,"p"),o(14,"button",7),l("click",function(){return r.authService.logout()}),o(15,"mat-icon"),a(16,"logout"),i(),o(17,"span"),a(18,"Logout"),i()()()(),o(19,"main"),W(20,"router-outlet"),i()()),t&2&&(d(2),v("extended",r.expanded()),d(2),f("routerLink",k(10,ye))("routerLinkActiveOptions",k(11,he))("matTooltipDisabled",r.expanded()),d(5),h(r.expanded()?-1:9),d(),h(r.expanded()?10:-1),d(2),h(r.showExport()?12:-1),d(),h(r.expanded()?13:-1),d(),f("matTooltipDisabled",r.expanded()))},dependencies:[$,F,pe,D,Y,J,S,re,E,T,ie,ce],styles:[".active[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-bright);font-weight:700}#extendable-container[_ngcontent-%COMP%]{display:flex;height:calc(100% - 64px)}#extendable-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:100%;padding:20px}#extendable[_ngcontent-%COMP%]{width:40px;justify-content:space-between;transition:.2s ease-in-out;padding:20px 10px;container-type:inline-size;background-color:var(--mat-sys-surface-container-low);color:var(--mat-sys-primary)}#extendable.extended[_ngcontent-%COMP%]{width:180px;align-items:start}#extendable[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-items:start}p[_ngcontent-%COMP%]{margin-top:5px}@container (width < 120px){a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:0!important;min-width:40px}a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}span[_ngcontent-%COMP%]{display:none}}button[_ngcontent-%COMP%]{text-align:center}"]})};export{ue as LoggedComponent};
