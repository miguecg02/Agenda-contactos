import{a as F}from"./chunk-QR6RJRUF.js";import{a as q}from"./chunk-B4FINKKS.js";import"./chunk-QKYI5N5N.js";import{a as k,c as y,d as w,f as I}from"./chunk-37FELDB3.js";import{d as P}from"./chunk-3FYFX3G5.js";import{a as B,b as V,c as N,d as R}from"./chunk-NJT4JHNX.js";import"./chunk-GYWLGTVM.js";import{f as j}from"./chunk-IKPN3UYD.js";import{C as G,E,W as T}from"./chunk-QO4XLJ5Y.js";import{Ba as x,Cb as h,Da as g,F as l,Fa as p,H as m,I as u,Ta as a,Ua as D,W as c,ca as _,eb as S,fb as M,jb as b,pa as d,qa as f,ua as C,va as o,wa as n,xa as v}from"./chunk-7WGGR3LD.js";function O(t,i){t&1&&(o(0,"p"),a(1,"Grupo no econtrado"),n())}function z(t,i){if(t&1&&(o(0,"p"),a(1),n()),t&2){let e,r=p(2);c(),D((e=r.group.value())==null?null:e.description)}}function H(t,i){t&1&&(o(0,"p"),a(1,"Grupo sin descripci\xF3n."),n())}function J(t,i){if(t&1){let e=x();o(0,"mat-card")(1,"mat-card-content"),d(2,z,2,1,"p")(3,H,2,0,"p"),n(),o(4,"mat-card-actions")(5,"button",0),g("click",function(){m(e);let s=p();return u(s.openEditDialog())}),o(6,"mat-icon"),a(7,"edit"),n(),a(8," Editar "),n(),o(9,"button",1),g("click",function(){m(e);let s=p();return u(s.openDeleteDialog())}),o(10,"mat-icon"),a(11,"delete"),n(),a(12," Eliminar "),n()()(),v(13,"app-contacts-table",2)}if(t&2){let e,r=p();c(2),f((e=r.group.value())!=null&&e.description?2:3),c(11),C("contacts",r.group.value().contacts)}}var A=class t{id=b.required();snackBarService=l(T);groupsService=l(R);titleService=l(N);dialog=l(j);router=l(h);group=M({params:()=>({groupId:this.id()}),loader:async({params:i})=>{let e=await this.groupsService.getById(i.groupId);if(e.success&&e.data)return e.data;this.snackBarService.openSnackbarError(e.message)}});changeTitle=S(()=>{this.group.hasValue()&&this.titleService.title.set(this.group.value().name)});openEditDialog(){this.dialog.open(F,{data:this.group.value()})}openDeleteDialog(){this.dialog.open(P,{data:{resource:"grupo"}}).afterClosed().subscribe(i=>{i&&(this.groupsService.deleteGroup(this.group.value().id),this.router.navigate(["/"]))})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-group-details"]],inputs:{id:[1,"id"]},decls:2,vars:1,consts:[["mat-button","",3,"click"],["mat-button","",1,"error",3,"click"],[3,"contacts"]],template:function(e,r){e&1&&d(0,O,2,0,"p")(1,J,14,2),e&2&&f(r.group.value()?1:0)},dependencies:[q,E,G,V,B,I,k,w,y],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})};export{A as GroupDetailsComponent};
