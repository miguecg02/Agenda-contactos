import{a as B,b as G}from"./chunk-QKYI5N5N.js";import{a as j,b as A,c as H,d as J}from"./chunk-3FYFX3G5.js";import{a as O,b as L,d as V,e as q,f as z}from"./chunk-NJT4JHNX.js";import{a as K}from"./chunk-GYWLGTVM.js";import{c as R,f as $}from"./chunk-IKPN3UYD.js";import{A as N,E as F}from"./chunk-QO4XLJ5Y.js";import{$a as S,Ba as T,Cb as w,Da as y,Db as P,F as p,Fa as D,H as b,Hb as I,I as h,Ta as c,Ua as v,W as r,Wa as k,ca as u,jb as d,pa as f,qa as C,ra as E,sa as g,ta as _,ua as l,va as n,wa as a,xa as s}from"./chunk-7WGGR3LD.js";var X=t=>["/contacts",t],Y=t=>["/groups",t];function Z(t,o){t&1&&s(0,"mat-icon",1)}function tt(t,o){if(t&1){let e=T();n(0,"mat-chip",9),y("click",function(m){return b(e),h(m.stopPropagation())}),c(1),a()}if(t&2){let e,i=o.$implicit,m=D();l("routerLink",S(2,Y,i)),r(),v((e=m.groupsService.getByIdLocal(i))==null?null:e.name)}}var M=class t{contact=d.required();groupsService=p(V);router=p(w);dialog=p($);contactService=p(R);showEditDialog(o){o.stopPropagation(),this.dialog.open(K,{data:this.contact()})}showDeleteDialog(o){o.stopPropagation(),this.dialog.open(J,{data:{resource:"contacto"}}).afterClosed().subscribe(e=>{e&&this.contactService.deleteContact(this.contact().id)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-contact-summary"]],inputs:{contact:[1,"contact"]},decls:19,vars:8,consts:[[1,"contacto-container",3,"routerLink"],["fontIcon","star","matTooltip","Favorito"],["id","email-container"],["aria-label","Grupos de contacto"],[3,"routerLink"],["id","actions-container"],["mat-icon-button","","matTooltip","Editar contacto",3,"click"],["mat-icon-button",""],["matTooltip","Eliminar contacto",3,"click"],[3,"click","routerLink"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"p"),c(2),f(3,Z,1,0,"mat-icon",1),a(),n(4,"p"),c(5),a(),n(6,"p",2),c(7),a(),n(8,"p")(9,"mat-chip-set",3),g(10,tt,2,4,"mat-chip",4,E),a()(),n(12,"div",5)(13,"button",6),y("click",function(x){return i.showEditDialog(x)}),n(14,"mat-icon"),c(15,"edit"),a()(),n(16,"button",7)(17,"mat-icon",8),y("click",function(x){return i.showDeleteDialog(x)}),c(18,"delete"),a()()()()),e&2&&(l("routerLink",S(6,X,i.contact().id)),r(2),k("",i.contact().firstName," ",i.contact().lastName," "),r(),C(i.contact().isFavorite?3:-1),r(2),v(i.contact().phone),r(2),v(i.contact().email),r(3),_(i.contact().groupIds))},dependencies:[I,P,L,O,H,j,A,F,N,z,q],styles:[".contacto-container[_ngcontent-%COMP%]{container-type:inline-size;display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));padding:5px 10px;align-items:center;cursor:pointer}.contacto-container[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-surface-container-low);border-radius:30px}.contacto-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{display:flex;align-items:center;gap:5px}@container (width < 500px){#actions-container[_ngcontent-%COMP%]{display:none}}@container (width < 400px){#email-container[_ngcontent-%COMP%]{display:none}}"]})};var et=(t,o)=>o.id;function nt(t,o){t&1&&(n(0,"p"),c(1,"Cargando"),a())}function ot(t,o){if(t&1&&s(0,"app-contact-summary",3),t&2){let e=o.$implicit;l("contact",e)}}function it(t,o){t&1&&(n(0,"p"),c(1,"No hay contactos"),a())}var Q=class t{contacts=d.required();loading=d(!1);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-contacts-table"]],inputs:{contacts:[1,"contacts"],loading:[1,"loading"]},decls:16,vars:2,consts:[["id","table-header"],["id","email"],["id","actions"],[3,"contact"]],template:function(e,i){e&1&&(f(0,nt,2,0,"p"),n(1,"div",0)(2,"span"),c(3,"Nombre"),a(),n(4,"span"),c(5,"Tel\xE9fono"),a(),n(6,"span",1),c(7,"Email"),a(),n(8,"span"),c(9,"Grupos"),a(),n(10,"span",2),c(11,"Acciones"),a()(),s(12,"mat-divider"),g(13,ot,1,1,"app-contact-summary",3,et,!1,it,2,0,"p")),e&2&&(C(i.loading()?0:-1),r(13),_(i.contacts()))},dependencies:[M,G,B],styles:["#table-header[_ngcontent-%COMP%]{container-type:inline-size;display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));padding:5px 10px;font-weight:700}@container (width < 500px){#actions[_ngcontent-%COMP%]{display:none}}@container (width < 400px){#email[_ngcontent-%COMP%]{display:none}}"]})};export{Q as a};
